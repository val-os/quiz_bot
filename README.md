# –ë–æ—Ç –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã. –î–ª—è Telegram –∏ VK
–£—á–µ–±–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø–æ —É—Ä–æ–∫–∞–º https://dvmn.org/

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ
–ß–∞—Ç-–±–æ—Ç —Å –∫–∞–≤–µ—Ä–∑–Ω—ã–º–∏ –≤–æ–ø—Ä–æ—Å–∞–º–∏ –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –≤–∞—Ä–∏–∞–Ω—Ç–æ–º –æ—Ç–≤–µ—Ç–∞.   

#### –ü—Ä–∏–º–µ—Ä Telegram –±–æ—Ç–∞ https://t.me/dvmn_quiz_89487u38u89y_bot 
![Telegram Bot GIF](https://dvmn.org/filer/canonical/1569215494/324/)

#### –ü—Ä–∏–º–µ—Ä VK —á–∞—Ç–∞: 
![VK Bot GIF](https://dvmn.org/filer/canonical/1569215498/325/)


## ‚öôÔ∏è –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ
1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ **Telegram**
2. –°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É –≤ **VK**

## üìú –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
`TELEGRAM_BOT_TOKEN` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –≤–∞—à–µ–≥–æ —Ç–µ–ª–µ–≥—Ä–∞–º–º –±–æ—Ç–∞  
`TELEGRAM_ADMIN_CHAT_ID` - chat_id –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞. –ß—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π chat_id, –Ω–∞–ø–∏—à–∏—Ç–µ –≤ Telegram —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–º—É –±–æ—Ç—É: @userinfobot  
`VK_GROUP_TOKEN` - —Ç–æ–∫–µ–Ω –≥—Ä—É–ø–ø—ã –≤ VK

## üíø –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –°–ø–æ—Å–æ–± 1 (virtualenv):
1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `python -m venv venv_quiz_bot`  
2. –ó–∞–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è `cd venv_quiz_bot`  
3. –°–∫–∞—á–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `git clone git@github.com:val-os/quiz_bot.git`  
4. –ü—Ä–æ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `cd quiz_bots`  
5. C–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `cp env.example .env` (–Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ —Å `env.example`)
6. –ü—Ä–∏—Å–≤–æ–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤—Å–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –≤ —Ñ–∞–π–ª–µ `.env`
7. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `source ../bin/activate`
7. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `pip install -r requirements.txt`
   
### –°–ø–æ—Å–æ–± 2 (Poetry):
1. –°–∫–∞—á–∞–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π `git clone git@github.com:val-os/quiz_bot.git`  
2. –ü—Ä–æ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è `cd quiz_bots`
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ `poetry install`
4. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ `poetry shell`

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–æ–≤:
   ```sh
   python ./quiz_bots/tg_bot.py
   python ./quiz_bots/vk_bot.py
   ```


## ü§Ø –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
- **vk_api: [901] Can't send messages for users without permission:** –ó–∞–π—Ç–∏ –≤ –≥—Ä—É–ø–ø—É, —Å–ø—Ä–∞–≤–∞ –≤ —à–∞–ø–∫–µ –Ω–∞–∂–∞—Ç—å "–ï—â—ë". –í—ã–±—Ä–∞—Ç—å "–†–∞–∑—Ä–µ—à–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è"


## ü§ñ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Å–µ—Ä–≤–∏—Å–∞ Linux
–í –ø—Ä–∏–º–µ—Ä–µ –Ω–∏–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ `vim`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `nano`
–ü—Ä–µ–¥–ø–æ–ª–æ–≥–∞–µ—Ç—Å—è, —á—Ç–æ –ø—É—Ç—å –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é `/opt/venv_quiz_bot/`
–í–∞–º –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–≤–∞ —Ñ–∞–π–ª–∞ `tg_quiz_bot.service` –∏ `vk_quiz_bot.service`

### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –±–æ—Ç–∞ Telegram
1. `vim /etc/systemd/system/tg_quiz_bot.service`
2. ```editorconfig
   [Unit]
   Description=Quiz Telegram Bot
   After=multi-user.target

   [Service]
   Type=simple
   Restart=always
   ExecStart=/opt/venv_quiz_bot/bin/python3 /opt/venv_quiz_bot/quiz_bots/bots/tg_bot.py

   [Install]
   WantedBy=multi-user.target
   ```
3. `sudo systemctl daemon-reload`
4. `systemctl enable tg_quiz_bot.service`
5. `systemctl start tg_quiz_bot.service`


### –°–æ–∑–¥–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –±–æ—Ç–∞ VK
1. `vim /etc/systemd/system/vk_quiz_bot.service`
2. ```editorconfig
   [Unit]
   Description=Quiz VK Bot
   After=multi-user.target

   [Service]
   Type=simple
   Restart=always
   ExecStart=/opt/venv_quiz_bot/bin/python3 /opt/venv_quiz_bot/quiz_bots/bots/vk_bot.py

   [Install]
   WantedBy=multi-user.target
   ```
3. `sudo systemctl daemon-reload`
4. `systemctl enable vk_quiz_bot.service`
5. `systemctl start vk_quiz_bot.service`


## üéØ –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –≤ —É—á–µ–±–Ω—ã—Ö —Ü–µ–ª—è—Ö ‚Äî —ç—Ç–æ —É—Ä–æ–∫ –≤ –∫—É—Ä—Å–µ –ø–æ Python –∏ –≤–µ–±-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –Ω–∞ —Å–∞–π—Ç–µ [Devman](https://dvmn.org).
